(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0a3b"],{"17ky":function(e,t,o){"use strict";o.r(t);var i=o("P2sY"),n=o.n(i),a=o("YEIV"),s=o.n(a),l=o("Mz3J"),r=o("Vb0T"),c=o("4A2f"),d=o("X4fA"),u=o("UjA4"),f=o("vc+U"),p=o("hWHG"),m=o("rdXg"),h=o.n(m),b=o("t0nZ"),w=o("b/QD"),v=o("ef4g"),k=o("t3Un");var g=o("3tAA"),y={components:{Pagination:l.a,RmDict:c.a,RmOrgSelect:u.a,RmUserSelect:f.a,RmAreaSelect:p.a,LeftTree:b.a},filters:{statusFilter:function(e){return{published:"success",draft:"gray",deleted:"danger"}[e]},formatDate:function(e){var t=new Date(e),o=t.getFullYear(),i=t.getMonth()+1;i=i<10?"0"+i:i;var n=t.getDate();return o+"-"+i+"-"+(n=n<10?"0"+n:n)}},data:function(){var e;return e={uploadParams:{bizId:"",bizType:"R"},synergOfficeList:null,lowerofficeList:null},s()(e,"lowerofficeList",null),s()(e,"visibleOrder",!1),s()(e,"exposureForm",{title:"",content:"",userDataId:"",bizId:""}),s()(e,"uploaddata",{bizId:null,bizType:"proTask"}),s()(e,"exposureLoading",!1),s()(e,"refLeftTree",null),s()(e,"fileList",[]),s()(e,"receivedPersionNodes",[]),s()(e,"visible",!1),s()(e,"listLoading",!1),s()(e,"panelMinHeight",62),s()(e,"panelbodyHeight",62),s()(e,"exposuredataArray",[]),s()(e,"doUpload",Object({NODE_ENV:"production",ENV_CONFIG:"prod",BASE_API:"http://117.26.177.186:8090/admin",GEOSERVER:"http://117.26.177.186:8090/geoserver/",GEOSERVER2:"http://117.40.230.32:10103/geoserver/",MAP_CENTER:[119.532727,26.666832],MAP_ZOOM:14}).BASE_FILE_API+"?token="+Object(d.a)()),s()(e,"isShowTabbar",!1),s()(e,"isshowCheckbox",!0),s()(e,"exposureVisible",!1),s()(e,"visible",!1),s()(e,"urgepopup",!1),s()(e,"dbwindows",!1),s()(e,"dblist",null),s()(e,"proTaskFrom",{reportId:null,lng:null,lat:null,type:null,source:"proTask",area:null,dept:null,unit:null,handleTime:null,description:null,taskcontent:null,launchTime:null,receivePesrson:null,receiveTime:null,dealDept:null,dealStatus:null,dealDate:null}),s()(e,"formProTask",{reportId:null,lng:null,lat:null,type:null,source:"proTask",area:null,dept:null,unit:null,handleTime:null,description:null,taskcontent:null,launchTime:null,receivePesrson:null,receiveTime:null,dealDept:null,dealStatus:null,dealDate:null}),s()(e,"form",{}),s()(e,"list",null),s()(e,"total",0),s()(e,"slide1",[]),s()(e,"listQuery",{pageNo:1,pageSize:10,importance:null,search:null,type:null,status:"TODO"}),s()(e,"gdid",{id:""}),s()(e,"submiturge",{content:""}),s()(e,"prodetail",{list:null,handel:{btnlist:null}}),s()(e,"workflowdetail",{visible:!1,row:null}),s()(e,"workflowsend",{visible:!1,officelist:null,isperson:!1,userlist:null,form:{actid:null,officeid:null,receiveUserId:null,comment:null,isaudit:null}}),s()(e,"workflowback",{visible:!1}),s()(e,"workhandelend",{visible:!1}),s()(e,"worknotofficeopetion",{btn:null,visible:!1,title:null,placeholder:null,label:null,confirm:null}),s()(e,"importanceOptions",[{label:"待处理",key:"TODO"},{label:"处理中",key:"DOING"},{label:"复核中",key:"AUDIT"},{label:"已完结",key:"DONE"}]),e},created:function(){this.getList()},methods:{loadLeftTreeData:function(){var e=this;Object(w.c)().then(function(t){e.exposuredataArray=t.data.list,e.exposureLoading=!1}).catch(function(t){e.exposureLoading=!1})},governor:function(e){var t=this;console.log("row::::",e),this.dbwindows=!0,Object(r.f)(e.id).then(function(e){t.dblist=e.data.list,console.log("this.dblist",t.dblist)})},edit:function(e){this.urgepopup=!0,this.gdid.id=e.id,this.submiturge.content=null},confirmBtn:function(){var e=this;if(null==this.submiturge.content)this.$message({message:"输入不能为空"});else{var t=n()(this.gdid,this.submiturge);Object(r.e)(t).then(function(t){e.urgepopup=!1,e.$message({message:"督办成功",type:"success"})})}},baoguangBtn:function(e){this.exposureForm.bizId=e.id,this.exposureVisible=!0,this.loadLeftTreeData(),this.fileList=[],this.exposureLoading=!0,this.receivedPersionNodes=[],this.receivedPersionKeys=[],this.exposureForm.title="",this.exposureForm.content=""},selectNode:function(e){console.log("点击树形data",e)},save:function(){var e=this;Object(r.d)(this.proTaskFrom).then(function(t){if(void 0!==e.$refs.upload.uploadFiles&&e.$refs.upload.uploadFiles.length>0){var o="&bizType="+e.uploaddata.bizType+"&bizId="+t.data.id;Object(v.a)(o,e.$refs.upload.uploadFiles).then(function(t){e.visibleOrder=!1}).catch(function(t){e.visibleOrder=!1})}e.visibleOrder=!1,e.$message({type:"success",message:"提交成功!"}),e.getList()}).catch(function(t){e.visibleOrder=!1,e.getList()})},handleSuccess:function(){this.fileList=[],this.getList()},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisibleImg=!0},handleRemove:function(e,t){console.log(e,t)},selectChang:function(e){console.log("data,",e),this.listQuery.status=e,this.listQuery.pageNo=1,this.getList()},gdhandlePictureCardPreview:function(){this.gd.dialogImageUrl=v.a.url,this.gd.dialogVisibleImg=!0},checkBoxBtn:function(e,t){var o=this;console.log(e,t),this.receivedPersionNodes=[],this.receivedPersionKeys=[],t.checkedNodes.map(function(e,t){"u"===e.type&&(o.receivedPersionNodes.push(e),o.receivedPersionKeys.push(e.id))}),this.exposureForm.userDataId=this.receivedPersionKeys.join(",")},deleteNode:function(e){this.receivedPersionNodes.splice(e,1),this.receivedPersionKeys.splice(e,1),this.exposureForm.userDataId=this.receivedPersionKeys.join(","),this.refLeftTree.setCheckedKeys(this.receivedPersionKeys)},submitBtn:function(){var e=this,t={userData:this.exposureForm.userDataId,title:this.exposureForm.title,content:this.exposureForm.content,bizId:this.exposureForm.bizId};console.log("saveParams",t),Object(w.i)(t).then(function(t){e.uploadParams.bizId=t.data.id;var o="&bizType="+e.uploadParams.bizType+"&bizId="+e.uploadParams.bizId;Object(v.a)(o,e.$refs.upload.uploadFiles).then(function(t){console.log("file----res",t),e.exposureVisible=!1}).catch(function(t){e.exposureVisible=!1})}).catch(function(t){e.exposureVisible=!1})},printBtn:function(){h()({printable:"printWrap",type:"html",targetStyles:["*"]})},getList:function(){var e=this;this.listLoading=!0,console.log("this.listQuery::::",this.listQuery),Object(r.c)(this.listQuery).then(function(t){e.listLoading=!1,e.list=t.data.list,e.total=t.data.count}),Object(w.e)().then(function(t){e.synergOfficeList=t.data.list}),Object(w.d)().then(function(t){e.lowerofficeList=t.data.list})},handleFilter:function(){this.listQuery.pageNo=1,this.getList()},showdetail:function(e){var t=this;void 0!=e&&null!=e&&(this.workflowdetail.row=e),this.gdid.id=this.workflowdetail.row.id,Object(r.b)(this.workflowdetail.row.id).then(function(e){t.workflowdetail.visible=!0,t.prodetail=e.data,console.log(t.prodetail),null!=t.prodetail&&void 0!=t.prodetail.handel&&void 0!=t.prodetail.handel.actid&&(t.workflowsend.form.actid=t.prodetail.handel.actid,t.uploaddata.bizId=t.workflowsend.form.actid)})},closelayer:function(){this.workflowdetail.visible=!1,this.worknotofficeopetion.isworknotofficeopetion&&this.getList()},operation:function(e){this.worknotofficeopetion.btn=e,"send"==e.id&&(this.workflowsend.isperson=e.isPerson,this.send(e)),"back"!=e.id&&"handeled"!=e.id&&"pass"!=e.id&&"unpass"!=e.id||this.worknotofficeopetionhandel(e),"handel"==e.id&&this.dobeginhandel()},create:function(){this.visibleOrder=!0,this.proTaskFrom={},this.fileList=[]},officechange:function(e){""!=e&&this.userlistload(e)},userlistload:function(e){var t=this;this.workflowsend.form.receiveUserId=null,Object(g.a)(e).then(function(e){console.log("response.data.list:::",e.data.list),void 0!=e.data.list?t.workflowsend.userlist=e.data.list:t.workflowsend.userlist=null})},worknotofficeopetionhandel:function(e){this.worknotofficeopetion.visible=!0,"back"==e.id&&(this.workflowsend.form.comment="",this.worknotofficeopetion.title="退回工单",this.worknotofficeopetion.placeholder="请输入内容",this.worknotofficeopetion.label="退回详情",this.worknotofficeopetion.confirm="确认"),"handeled"==e.id&&(this.workflowsend.form.comment="",this.worknotofficeopetion.title="处理完成操作",this.worknotofficeopetion.placeholder="请输入内容",this.worknotofficeopetion.label="处理详情",this.worknotofficeopetion.confirm="确认"),"pass"==e.id&&(this.workflowsend.form.comment="",this.worknotofficeopetion.title="复核通过",this.worknotofficeopetion.placeholder="请输入内容",this.worknotofficeopetion.label="内容",this.worknotofficeopetion.confirm="确认",this.workflowsend.form.isaudit="1"),"unpass"==e.id&&(this.worknotofficeopetion.title="复核不通过",this.worknotofficeopetion.placeholder="请输入内容",this.worknotofficeopetion.label="内容",this.worknotofficeopetion.confirm="确认",this.workflowsend.form.isaudit="0")},doworknotofficeopetionhandel:function(){var e=this.worknotofficeopetion.btn;"back"==e.id&&this.doback(),"handeled"==e.id&&this.doendhandel(),"pass"==e.id&&this.doauditandel(),"unpass"==e.id&&this.doauditandel(),this.worknotofficeopetion.visible=!1,this.worknotofficeopetion.isworknotofficeopetion=!0},send:function(e){var t=this;this.workflowsend.visible=!0,this.workflowsend.form.officeid="",this.workflowsend.form.comment="",this.workflowsend.form.annex="",this.fileList=[],function(e){return Object(k.a)({url:"/api/res/management/loweroffice",method:"post",data:e})}().then(function(e){void 0!=e.data.list&&e.data.list.length>0&&(t.workflowsend.officelist=e.data.list,t.officechange(t.workflowsend.officelist[0].id))})},dosend:function(e){var t=this;this.workflowsend.visible=!1,this.worknotofficeopetion.isworknotofficeopetion=!0,function(e){return Object(k.a)({url:"/api/work/proTask/sendtask",method:"post",data:e})}(this.workflowsend.form).then(function(e){var o="&bizType="+t.uploaddata.bizType+"&bizId="+t.workflowsend.form.actid;void 0!=t.$refs.upload.uploadFiles&&t.$refs.upload.uploadFiles.length>0?(Object(v.a)(o,t.$refs.upload.uploadFiles).then(function(e){t.visibleOrder=!1,t.showdetail()}).catch(function(e){t.exposureVisible=!1}),t.$message({type:"success",message:"派单成功!"}),t.showdetail(),t.visibleOrder=!1):(t.visibleOrder=!1,t.showdetail(),t.$message({type:"success",message:"派单成功!"}))})},doback:function(){var e=this;(function(e){return Object(k.a)({url:"/api/work/proTask/back",method:"post",data:e})})(this.workflowsend.form).then(function(t){e.$message({type:"success",message:"退回成功!"}),e.workflowback.visible=!1,e.showdetail()})},dobeginhandel:function(e){var t=this;(function(e){return Object(k.a)({url:"/api/work/proTask/beginhandel",method:"post",data:e})})({actid:this.workflowsend.form.actid}).then(function(e){t.$message({type:"success",message:"状态更新成功!"}),t.showdetail()})},endhandel:function(){this.workhandelend.visible=!0},doendhandel:function(e){var t=this;(function(e){return Object(k.a)({url:"/api/work/proTask/endhandel",method:"post",data:e})})(this.workflowsend.form).then(function(e){t.$message({type:"success",message:"处理完成!"}),t.showdetail()})},doauditandel:function(){var e=this;console.log("审核操作完成:::"),function(e){return Object(k.a)({url:"/api/work/proTask/audit",method:"post",data:e})}(this.workflowsend.form).then(function(t){e.$message({type:"success",message:"审核操作完成!"}),e.showdetail()})},del:function(e){var t=this;console.log(e.id),Object(r.a)(e.id).then(function(o){var i=t.list.indexOf(e);t.list.splice(i,1),t.$message({type:"success",message:"删除成功!"})}).catch(function(e){t.listLoading=!1})}}},_=(o("pwIh"),o("KHd+")),x=Object(_.a)(y,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}]},[o("el-container",[o("el-header",{attrs:{height:"125px"}},[o("div",{staticClass:"topTitle"},[e._v("工单列表")]),e._v(" "),o("div",{staticClass:"filter-container"},[o("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"输入问题描述"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.listQuery.description,callback:function(t){e.$set(e.listQuery,"description",t)},expression:"listQuery.description"}}),e._v(" "),o("el-select",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{placeholder:"请选择列别",clearable:""},on:{change:e.selectChang},model:{value:e.listQuery.status,callback:function(t){e.$set(e.listQuery,"status",t)},expression:"listQuery.status"}},e._l(e.importanceOptions,function(e){return o("el-option",{key:e.key,attrs:{label:e.label,value:e.key}})})),e._v(" "),o("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("查询")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.create}},[e._v("新增")])],1)]),e._v(" "),o("el-main",[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,"row-key":"id",stripe:"",border:""}},[o("el-table-column",{attrs:{label:"",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",{staticClass:"city",attrs:{title:"时时事事11111"}},[e._v("市")]),e._v(" "),o("el-button",{staticStyle:{color:"#ffa727",border:"none"},attrs:{title:"督办记录"},on:{click:function(o){e.governor(t.row)}}},[e._v("督")])]}}])}),e._v(" "),o("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),o("el-table-column",{attrs:{prop:"description",label:"问题描述"}}),e._v(" "),o("el-table-column",{attrs:{prop:"username",label:"发起人"}}),e._v(" "),o("el-table-column",{attrs:{prop:"date",label:"发起时间"}}),e._v(" "),o("el-table-column",{attrs:{prop:"status",label:"工单状态"}}),e._v(" "),o("el-table-column",{attrs:{prop:"taskcontent",label:"任务描述"}}),e._v(" "),o("el-table-column",{attrs:{prop:"id",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text",title:"曝光"},on:{click:function(o){e.baoguangBtn(t.row)}}},[o("svg-icon",{attrs:{"icon-class":"puguangColor"}})],1),e._v(" "),o("el-button",{attrs:{type:"text",title:"督办"},on:{click:function(o){e.edit(t.row)}}},[o("svg-icon",{attrs:{"icon-class":"jianduColor"}})],1),e._v(" "),o("el-button",{attrs:{type:"text",title:"删除"},on:{click:function(o){e.del(t.row)}}},[o("svg-icon",{attrs:{"icon-class":"deleteColor"}})],1),e._v(" "),o("el-button",{attrs:{type:"text",title:"详情"},on:{click:function(o){e.showdetail(t.row)}}},[o("svg-icon",{attrs:{"icon-class":"editColor"}})],1)]}}])})],1),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.pageNo,limit:e.listQuery.pageSize},on:{"update:page":function(t){e.$set(e.listQuery,"pageNo",t)},"update:limit":function(t){e.$set(e.listQuery,"pageSize",t)},pagination:e.getList}})],1),e._v(" "),o("Layer",{staticClass:"layer-1",attrs:{title:"工单详情",dialog:!1,width:"500",animation:2,maskLayer:!1,shade:!1,height:"700",closeBack:e.closelayer},model:{value:e.workflowdetail.visible,callback:function(t){e.$set(e.workflowdetail,"visible",t)},expression:"workflowdetail.visible"}},[o("el-button",{staticClass:"printBtn",attrs:{type:"primary"},on:{click:e.printBtn}},[e._v("打印")]),e._v(" "),o("div",{attrs:{id:"printWrap"}},[e._l(e.prodetail.list,function(t,i){return o("div",{key:i,staticClass:"splitBox"},[o("div",{staticClass:"work-order-details-list-title"},[e._v(e._s(t.title))]),e._v(" "),o("el-form",{attrs:{model:e.form,"abel-width":"80px",size:"mini"}},e._l(t.list,function(t,i){return o("el-form-item",{key:i,attrs:{label:t.name}},[e._v(e._s(t.value))])})),e._v(" "),o("viewer",{staticClass:"clearfix",attrs:{images:t.medium}},e._l(t.medium,function(e,t){return o("img",{key:t,attrs:{src:e.url}})})),e._v(" "),i!==e.prodetail.list.length-1?o("div",{staticClass:"work-order-details-list-split"}):e._e()],1)}),e._v(" "),o("div",{staticStyle:{"border-bottom":"1px solid #ddd"}})],2),e._v(" "),o("div",{staticClass:"customerBtn"},e._l(e.prodetail.handel.btnlist,function(t,i){return o("el-button",{key:i,attrs:{type:"primary"},on:{click:function(o){e.operation(t)}}},[e._v(e._s(t.name))])}))],1),e._v(" "),o("Layer",{staticClass:"layer-1",attrs:{title:"转派工单",dialog:!1,width:"400",animation:2,maskLayer:!1,shade:!1,height:"400",confirmBack:e.dosend,confirm:"确定",cancel:"取消"},model:{value:e.workflowsend.visible,callback:function(t){e.$set(e.workflowsend,"visible",t)},expression:"workflowsend.visible"}},[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"选择部门"}},[o("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择部门",clearable:""},on:{change:e.officechange},model:{value:e.workflowsend.form.officeid,callback:function(t){e.$set(e.workflowsend.form,"officeid",t)},expression:"workflowsend.form.officeid"}},e._l(e.workflowsend.officelist,function(e){return o("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})}))],1),e._v(" "),"true"==e.workflowsend.isperson?o("el-form-item",{attrs:{label:"选择人员"}},[o("el-select",{staticClass:"filter-item",staticStyle:{width:"90px"},attrs:{placeholder:"请选择人员",clearable:""},model:{value:e.workflowsend.form.receiveUserId,callback:function(t){e.$set(e.workflowsend.form,"receiveUserId",t)},expression:"workflowsend.form.receiveUserId"}},e._l(e.workflowsend.userlist,function(e){return o("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),o("el-form-item",{attrs:{prop:"comment",label:"备注"}},[o("el-input",{attrs:{rows:4,type:"textarea"},model:{value:e.workflowsend.form.comment,callback:function(t){e.$set(e.workflowsend.form,"comment",t)},expression:"workflowsend.form.comment"}})],1),e._v(" "),o("el-upload",{ref:"upload",staticClass:"upload-demo",staticStyle:{"text-align":"left"},attrs:{multiple:!0,action:"https://jsonplaceholder.typicode.com/posts/","file-list":e.fileList,"auto-upload":!1,data:e.uploaddata},model:{value:e.workflowsend.form.annex,callback:function(t){e.$set(e.workflowsend.form,"annex",t)},expression:"workflowsend.form.annex"}},[o("i",{staticClass:"el-icon-ali-icon-test"}),e._v("附件上传\n                 ")])],1)],1),e._v(" "),o("Layer",{staticClass:"layer-1",attrs:{title:"工单退回",dialog:!1,width:"400",animation:2,maskLayer:!1,shade:!1,height:"300",confirmBack:e.doback,confirm:"确定",cancel:"取消"},model:{value:e.workflowback.visible,callback:function(t){e.$set(e.workflowback,"visible",t)},expression:"workflowback.visible"}},[o("el-form",{ref:"workflowbackform",attrs:{model:e.workflowback.form,"label-width":"80px"}},[o("el-form-item",{attrs:{prop:"comment",label:"退回原由"}},[o("el-input",{attrs:{rows:4,type:"textarea"},model:{value:e.workflowsend.form.comment,callback:function(t){e.$set(e.workflowsend.form,"comment",t)},expression:"workflowsend.form.comment"}})],1)],1)],1),e._v(" "),o("Layer",{staticClass:"layer-1",attrs:{title:e.worknotofficeopetion.title,dialog:!1,width:"400",animation:2,maskLayer:!1,shade:!1,height:"300",confirmBack:e.doworknotofficeopetionhandel,confirm:e.worknotofficeopetion.confirm,cancel:"取消"},model:{value:e.worknotofficeopetion.visible,callback:function(t){e.$set(e.worknotofficeopetion,"visible",t)},expression:"worknotofficeopetion.visible"}},[o("el-form",{ref:"workendhandelform",attrs:{"label-width":"80px"}},[o("el-form-item",{attrs:{prop:"comment",label:e.worknotofficeopetion.label}},[o("el-input",{attrs:{placeholder:e.worknotofficeopetion.placeholder,rows:4,type:"textarea"},model:{value:e.workflowsend.form.comment,callback:function(t){e.$set(e.workflowsend.form,"comment",t)},expression:"workflowsend.form.comment"}})],1)],1)],1)],1)],1),e._v(" "),o("el-dialog",{attrs:{visible:e.visibleOrder,title:"生成工单","modal-append-to-body":!1},on:{"update:visible":function(t){e.visibleOrder=t}}},[o("el-form",{ref:"proTaskFrom",attrs:{model:e.proTaskFrom,"abel-width":"80px",size:"mini"}},[o("el-form-item",{attrs:{label:"接单单位"}},[o("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择单位",clearable:""},model:{value:e.proTaskFrom.dept,callback:function(t){e.$set(e.proTaskFrom,"dept",t)},expression:"proTaskFrom.dept"}},e._l(e.lowerofficeList,function(e){return o("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"相关部门"}},[o("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择部门",clearable:""},model:{value:e.proTaskFrom.unit,callback:function(t){e.$set(e.proTaskFrom,"unit",t)},expression:"proTaskFrom.unit"}},e._l(e.synergOfficeList,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"办结时间"}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"Pick a date"},model:{value:e.proTaskFrom.handleTime,callback:function(t){e.$set(e.proTaskFrom,"handleTime",t)},expression:"proTaskFrom.handleTime"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"问题描述"}},[o("el-input",{attrs:{type:"textarea",placeholder:"请输入问题描述",rows:"5"},model:{value:e.proTaskFrom.description,callback:function(t){e.$set(e.proTaskFrom,"description",t)},expression:"proTaskFrom.description"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"任务描述"}},[o("el-input",{attrs:{type:"textarea",placeholder:"请输入任务描述",rows:"5"},model:{value:e.proTaskFrom.taskcontent,callback:function(t){e.$set(e.proTaskFrom,"taskcontent",t)},expression:"proTaskFrom.taskcontent"}})],1)],1),e._v(" "),o("el-upload",{ref:"upload",staticClass:"upload-demo",staticStyle:{"text-align":"left"},attrs:{multiple:!0,action:"https://jsonplaceholder.typicode.com/posts/","file-list":e.fileList,"auto-upload":!1}},[o("i",{staticClass:"el-icon-ali-icon-test"}),e._v("附件上传\n                 ")]),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.visibleOrder=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save()}}},[e._v("确 定")])],1)],1),e._v(" "),o("el-dialog",{attrs:{visible:e.exposureVisible,title:"曝光","modal-append-to-body":!1,width:"60%"},on:{"update:visible":function(t){e.exposureVisible=t}}},[o("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.exposureLoading,expression:"exposureLoading"}]},[o("el-aside",[o("left-tree",{attrs:{titleName:"组织部门",dataArray:e.exposuredataArray,isShowTabbar:e.isShowTabbar,showCheckbox:e.isshowCheckbox,panelMinHeight:e.panelMinHeight,panelbodyHeight:e.panelbodyHeight},on:{areaData:e.selectNode,checkBoxBtn:e.checkBoxBtn},model:{value:e.refLeftTree,callback:function(t){e.refLeftTree=t},expression:"refLeftTree"}})],1),e._v(" "),o("el-container",[o("el-header",{attrs:{height:"200px"}},[o("div",{staticClass:"topTitle"},[e._v("\n             接收列表\n           ")]),e._v(" "),o("div",{staticClass:"filter-container",staticStyle:{height:"157px","overflow-y":"auto"}},e._l(e.receivedPersionNodes,function(t,i){return o("span",{key:i,staticClass:"command-user"},[e._v("\n               "+e._s(t.label)+"\n               "),o("i",{staticClass:"el-icon-ali-guanbi",on:{click:function(t){e.deleteNode(i)}}})])}))]),e._v(" "),o("el-main",{staticStyle:{"padding-top":"0",position:"relative"}},[o("div",{staticClass:"topTitle"},[e._v("\n             曝光详情\n           ")]),e._v(" "),o("div",{staticClass:"filter-container",staticStyle:{height:"276px","overflow-y":"auto"}},[o("el-form",{ref:"exposureForm",attrs:{model:e.exposureForm,"label-width":"50px"}},[o("el-form-item",{attrs:{label:"标题"}},[o("el-input",{attrs:{placeholder:"请输入曝光标题"},model:{value:e.exposureForm.title,callback:function(t){e.$set(e.exposureForm,"title",t)},expression:"exposureForm.title"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"详情"}},[o("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"请输入曝光详情"},model:{value:e.exposureForm.content,callback:function(t){e.$set(e.exposureForm,"content",t)},expression:"exposureForm.content"}})],1),e._v(" "),o("el-form-item",[o("el-upload",{ref:"upload",staticClass:"upload-demo",staticStyle:{"text-align":"left"},attrs:{multiple:!0,action:"https://jsonplaceholder.typicode.com/posts/","file-list":e.fileList,"auto-upload":!1}},[o("i",{staticClass:"el-icon-ali-icon-test"}),e._v("附件上传\n                 ")])],1)],1),e._v(" "),o("div",{staticClass:"command-mian-body-image"},[o("el-button",{attrs:{type:"primary"},on:{click:e.submitBtn}},[e._v("确定")])],1)],1)])],1)],1)],1),e._v(" "),o("el-dialog",{attrs:{visible:e.urgepopup,title:"督办工单","modal-append-to-body":!1},on:{"update:visible":function(t){e.urgepopup=t}}},[o("el-form",{ref:"submiturge",attrs:{model:e.submiturge,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"督办内容"}},[o("el-input",{attrs:{type:"textarea",placeholder:"请输入督办内容",rows:"5"},model:{value:e.submiturge.content,callback:function(t){e.$set(e.submiturge,"content",t)},expression:"submiturge.content"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:e.confirmBtn}},[e._v("确 认")])],1)],1),e._v(" "),o("el-dialog",{attrs:{visible:e.dbwindows,title:"督办记录","modal-append-to-body":!1,width:"500px"},on:{"update:visible":function(t){e.dbwindows=t}}},[o("div",{staticClass:"splitBox"},e._l(e.dblist,function(t,i){return o("el-form",{key:i,attrs:{"abel-width":"80px",size:"mini"}},[o("el-form-item",{attrs:{label:"督办内容"}},[e._v(e._s(t.content))]),e._v(" "),o("el-form-item",{attrs:{label:"发 起 人"}},[e._v(e._s(t.username))]),e._v(" "),o("el-form-item",{attrs:{label:"督办时间"}},[e._v(e._s(e._f("formatDate")(t.date)))]),e._v(" "),o("div",{staticClass:"work-order-details-list-split"})],1)}))])],1)},[],!1,null,"2842f27e",null);x.options.__file="proTask.vue";t.default=x.exports},"3tAA":function(e,t,o){"use strict";o.d(t,"b",function(){return n}),o.d(t,"a",function(){return a});var i=o("t3Un");function n(e){return Object(i.a)({url:"/api/sys/user/info",method:"get",params:{userid:e}})}function a(e){return Object(i.a)({url:"/api/sys/office/user",method:"get",params:{id:e}})}},Bc63:function(e,t,o){},GiAY:function(e,t,o){"use strict";o.d(t,"c",function(){return n}),o.d(t,"a",function(){return a}),o.d(t,"b",function(){return s});var i=o("t3Un");function n(e){return Object(i.a)({url:"/api/sys/office/list",method:"get",params:{id:e}})}function a(e){return Object(i.a)({url:"/api/sys/office/childs",method:"get",params:{pid:e}})}function s(e){return Object(i.a)({url:"/api/res/management/loweroffice",method:"get",params:e})}},Vb0T:function(e,t,o){"use strict";o.d(t,"c",function(){return n}),o.d(t,"b",function(){return a}),o.d(t,"d",function(){return s}),o.d(t,"a",function(){return l}),o.d(t,"e",function(){return r}),o.d(t,"f",function(){return c});var i=o("t3Un");function n(e){return Object(i.a)({url:"/api/work/proTask/prolist",method:"get",params:e})}function a(e){return Object(i.a)({url:"/api/work/proTask/acttaskinfo",method:"get",params:{id:e}})}function s(e){return Object(i.a)({url:"/api/work/proTask/save",method:"post",data:e})}function l(e){return Object(i.a)({url:"/api/work/proTask/del",method:"post",params:{ids:e}})}function r(e){return Object(i.a)({url:"/api/work/workUrge/save",method:"post",params:e})}function c(e){return Object(i.a)({url:"api/work/workUrge/urgelist",method:"get",params:{id:e}})}},Y5bG:function(e,t,o){"use strict";o.d(t,"a",function(){return n}),Math.easeInOutQuad=function(e,t,o,i){return(e/=i/2)<1?o/2*e*e+t:-o/2*(--e*(e-2)-1)+t};var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function n(e,t,o){var n=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,a=e-n,s=0;t=void 0===t?500:t;!function e(){s+=20,function(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}(Math.easeInOutQuad(s,n,a,t)),s<t?i(e):o&&"function"==typeof o&&o()}()}},"b/QD":function(e,t,o){"use strict";o.d(t,"j",function(){return n}),o.d(t,"g",function(){return a}),o.d(t,"a",function(){return s}),o.d(t,"f",function(){return l}),o.d(t,"b",function(){return r}),o.d(t,"c",function(){return c}),o.d(t,"h",function(){return d}),o.d(t,"e",function(){return u}),o.d(t,"d",function(){return f}),o.d(t,"i",function(){return p});var i=o("t3Un");function n(e){return Object(i.a)({url:"api/res/management/saveusers",method:"post",data:e})}function a(e){return Object(i.a)({url:"api/res/management/managementuserlist",method:"get",params:e})}function s(e){var t={ids:e};return console.log("params:::",t),Object(i.a)({url:"api/res/management/del",method:"get",params:t})}function l(e){return Object(i.a)({url:"api/res/management/gethzbuserbyareaid",method:"get",params:e})}function r(e){return Object(i.a)({url:"api/res/management/orgusertrees",method:"get",params:e})}function c(e){return Object(i.a)({url:"/api/res/management/orgtreesandusers",method:"get",params:e})}function d(e){return Object(i.a)({url:"/api/res/management/orgtrees",method:"get",params:e})}function u(e){return Object(i.a)({url:"/api/res/management/synerg/office",method:"get",params:e})}function f(e){return Object(i.a)({url:"/api/res/management/loweroffice",method:"get",params:e})}function p(e){return Object(i.a)({url:"/api/sysMsg/saveExposure",method:"post",data:e})}},eeUT:function(e,t,o){},ef4g:function(e,t,o){"use strict";o.d(t,"a",function(){return s});var i=o("vDqi"),n=o.n(i),a=o("X4fA");function s(e,t){var o=new FormData;for(var i in t)t[i].raw&&o.append("file"+i,t[i].raw);return n()({url:"http://117.26.177.186:8090/admin/c/common/fileRecord/uploadFile/?token="+Object(a.a)()+e,method:"post",data:o,headers:{"Content-Type":"multipart/form-data"}})}},iQb1:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var i=o("t3Un");function n(e,t){return void 0==t&&(t=null),Object(i.a)({url:"api/res/management/tree",method:"get",params:{pid:e,iscontains:t}})}},jatR:function(e,t,o){"use strict";var i=o("Bc63");o.n(i).a},pwIh:function(e,t,o){"use strict";var i=o("eeUT");o.n(i).a},t0nZ:function(e,t,o){"use strict";var i={name:"LeftTree",data:function(){return{text:"我是子组件向父组件传递参数",msg:{number:60,content:"这是从子组件中传递过来的对象"},defaultProps:{children:"children",label:"label"}}},props:{titleName:{type:String,required:!0},dataArray:{type:Array,required:!0},isShowTabbar:{type:Boolean,required:!0},showCheckbox:{type:Boolean,required:!1,default:!1},panelMinHeight:{type:Number,required:!1,default:81},panelbodyHeight:{type:Number,required:!1,default:86}},mounted:function(){this.$emit("input",this.$refs.tree)},methods:{getMsg:function(){this.$emit("getMsgs",this.msg)},refreshBtn:function(){},addBtn:function(){},deleteBtn:function(){},handleNodeClick:function(e){this.$emit("areaData",e)},checkBoxClick:function(e,t){this.$emit("checkBoxBtn",e,t)}}},n=(o("jatR"),o("KHd+")),a=Object(n.a)(i,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"panel",style:{minHeight:e.panelMinHeight+"vh"}},[o("div",{staticClass:"panelHeading"},[o("div",[o("svg-icon",{attrs:{"icon-class":"tree"}}),e._v(e._s(e.titleName)+"\n    ")],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowTabbar,expression:"isShowTabbar"}],staticClass:"btn-group"},[o("button",{staticClass:"btn mini",on:{click:e.refreshBtn}},[o("i",{staticClass:"el-icon-refresh"})]),e._v(" "),o("button",{staticClass:"btn mini",on:{click:e.addBtn}},[o("i",{staticClass:"el-icon-circle-plus"})]),e._v(" "),o("button",{staticClass:"btn mini",on:{click:e.deleteBtn}},[o("i",{staticClass:"el-icon-delete"})])])]),e._v(" "),o("div",{staticClass:"source panel-body",style:{height:"calc("+e.panelbodyHeight+"vh - 41px)"}},[o("el-tree",{ref:"tree",attrs:{data:e.dataArray,props:e.defaultProps,"empty-text":"暂无数据","highlight-current":"","node-key":"id","show-checkbox":e.showCheckbox},on:{"node-click":e.handleNodeClick,check:e.checkBoxClick}})],1)])},[],!1,null,"646fce6a",null);a.options.__file="leftTree.vue";t.a=a.exports}}]);